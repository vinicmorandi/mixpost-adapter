import{N as v,m as b,o as H,p as y,L as P,E as m,P as g,h,D as p}from"./index.a09b91eb.js";import{c5 as l}from"./app.a05b4c5c.js";const A=v.create({name:"div",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"div"}]},renderHTML({HTMLAttributes:t}){return["div",b(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),L=()=>({defaultExtensions:[H,A,y,P.configure({openOnClick:!1,linkOnPaste:!1})],insertEmoji:({editorId:r,emoji:s})=>{s.hasOwnProperty("native")&&l.emit("insertEmoji",{editorId:r,emoji:s})},insertContent:({editorId:r,text:s})=>{l.emit("insertContent",{editorId:r,text:s})},focusEditor:({editorId:r})=>{l.emit("focusEditor",{editorId:r})},isDocEmpty:r=>r==="<div></div>"?!0:r==="",getTextFromHtmlString:r=>{const s=document.createElement("div");s.innerHTML=r;const o=s.innerHTML;s.remove();let n=o.replace(/<div><\/div>/g,`
`);return n=n.replace(/<div>/g,`
`),n=n.replace(/<\/div>/g,""),n=n.replace(/<\/?[^>]+(>|$)/g,""),o.startsWith("<div>")&&(n=n.substring(1)),n}}),C=m.create({name:"hashtag",addProseMirrorPlugins(){return[new g({state:{init(t,{doc:e}){return f(e)},apply(t,e){return t.docChanged?f(t.doc):e}},props:{decorations(t){return this.getState(t)}}})]}}),f=t=>{const e=/#(\w+)\b/gi,a=[];return t.descendants((i,d)=>{!i.text||Array.from(i.text.matchAll(e)).forEach(c=>{const r=c[0],s=c.index||0,o=d+s,n=o+r.length,u=h.inline(o,n,{class:"text-blue-500"});a.push(u)})}),p.create(t,a)},D=m.create({name:"usertag",addProseMirrorPlugins(){return[new g({state:{init(t,{doc:e}){return x(e)},apply(t,e){return t.docChanged?x(t.doc):e}},props:{decorations(t){return this.getState(t)}}})]}}),x=t=>{const e=/@(\w+)\b/gi,a=[];return t.descendants((i,d)=>{!i.text||Array.from(i.text.matchAll(e)).forEach(c=>{const r=c[0],s=c.index||0,o=d+s,n=o+r.length,u=h.inline(o,n,{class:"text-blue-500"});a.push(u)})}),p.create(t,a)},S=m.create({name:"variable",addProseMirrorPlugins(){return[new g({state:{init(t,{doc:e}){return E(e)},apply(t,e){return t.docChanged?E(t.doc):e}},props:{decorations(t){return this.getState(t)}}})]}}),E=t=>{const e=/{{([a-zA-Z0-9_]+)}}/g,a=[];return t.descendants((i,d)=>{!i.text||Array.from(i.text.matchAll(e)).forEach(c=>{const r=c[0],s=c.index||0,o=d+s,n=o+r.length,u=h.inline(o,n,{class:"text-primary-500"});a.push(u)})}),p.create(t,a)};export{C as H,S as V,D as a,L as u};
