import{p as C,o as n,c,e as d,S as N,n as O,H as A,O as $,ag as V,r as F,j as M,b as a,k as B,w as t,a as e,ab as U,a7 as x,h as i,t as l,f as y,a8 as P,i as q,m as E,cd as T,ac as b,c5 as z,J,_ as K,F as D,a2 as S,ae as G}from"./app.a05b4c5c.js";import{_ as Q}from"./PureButtonLink.21473f96.js";import{_ as H}from"./PureButton.7cf07808.js";import{E as R}from"./EllipsisVertical.0bda3946.js";import{T as W}from"./Trash.83ab4124.js";import{b as X,c as Y}from"./VerticallyScrollableContent.528227ae.js";import{_ as Z}from"./ProviderIcon.9a25a410.js";import{_ as j}from"./Checkbox.12b1be22.js";import{_ as ee}from"./SearchInput.296daeed.js";const te={},se={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},oe=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"},null,-1),ae=[oe];function ne(s,h){return n(),c("svg",se,ae)}const le=C(te,[["render",ne]]),re={},ce={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ie=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"},null,-1),de=[ie];function ue(s,h){return n(),c("svg",ce,de)}const me=C(re,[["render",ue]]),_e={class:"flex flex-row items-center gap-xs"},Fe={__name:"PostItemActions",props:{itemId:{type:String,required:!0},trashed:{type:Boolean,default:!1}},emits:["onDelete"],setup(s,{emit:h}){const u=s,{t:o}=N(),f=O("workspaceCtx"),m=A(!1),k=$(()=>{const g=V().props;return g.hasOwnProperty("filter")?g.filter.status:null}),{notify:_}=J(),p=()=>{b.delete(route("mixpost.posts.delete",{workspace:f.id,post:u.itemId,status:k.value}),{onSuccess(){m.value=!1,_("success",k.value==="trash"?o("post.post_deleted_permanently"):o("post.post_moved_to_trash")),h("onDelete"),z.emit("postDelete",u.itemId)}})},r=()=>{b.post(route("mixpost.posts.duplicate",{workspace:f.id,post:u.itemId}),{},{onSuccess(){_("success",o("post.post_duplicated"))}})},w=()=>{b.post(route("mixpost.posts.restore",{workspace:f.id,post:u.itemId}),{},{onSuccess(){_("success",o("post.post_restored"))}})};return(g,v)=>{const L=F("tooltip");return n(),c("div",null,[d("div",_e,[M((n(),B(Q,{href:g.route("mixpost.posts.edit",{workspace:a(f).id,post:s.itemId})},{default:t(()=>[e(U)]),_:1},8,["href"])),[[L,a(o)("general.edit")]]),e(P,{"width-classes":"w-32",placement:"bottom-end"},{trigger:t(()=>[e(H,{class:"mt-1"},{default:t(()=>[e(R)]),_:1})]),content:t(()=>[s.trashed?(n(),B(x,{key:0,onClick:w,as:"button"},{default:t(()=>[e(me,{class:"!w-5 !h-5 mr-1"}),i(" "+l(a(o)("general.restore")),1)]),_:1})):y("",!0),e(x,{onClick:r,as:"button"},{default:t(()=>[e(le,{class:"!w-5 !h-5 mr-1"}),i(" "+l(a(o)("general.duplicate")),1)]),_:1}),e(x,{onClick:v[0]||(v[0]=I=>m.value=!0),as:"button"},{default:t(()=>[e(W,{class:"!w-5 !h-5 mr-1 text-red-500"}),i(" "+l(a(o)("general.delete")),1)]),_:1})]),_:1})]),e(T,{show:m.value,variant:"danger",onClose:v[2]||(v[2]=I=>m.value=!1)},{header:t(()=>[i(l(a(o)("post.delete_post")),1)]),body:t(()=>[i(l(a(o)("post.confirm_delete_post")),1)]),footer:t(()=>[e(q,{onClick:v[1]||(v[1]=I=>m.value=!1),class:"mr-xs"},{default:t(()=>[i(l(a(o)("general.cancel")),1)]),_:1}),e(E,{onClick:p},{default:t(()=>[i(l(s.trashed?a(o)("general.delete_permanently"):a(o)("general.delete")),1)]),_:1})]),_:1},8,["show"])])}}},pe={},fe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},he=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"},null,-1),ve=[he];function we(s,h){return n(),c("svg",fe,ve)}const ke=C(pe,[["render",we]]),ge={class:"flex items-center"},$e={class:"ml-xs hidden sm:inline-block"},xe={key:0,class:"px-2 py-1 rounded-md bg-white text-black font-bold"},be={key:0,class:"p-sm"},Ve={class:"font-semibold"},ye={class:"mt-sm flex flex-wrap items-center gap-xs"},Ce={class:"p-sm mt-sm"},Ie={class:"font-semibold"},Be={class:"mt-sm flex flex-wrap items-center gap-xs"},Me={__name:"PostsFilter",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(s,{emit:h}){const u=s,o=$(()=>V().props.accounts),f=$(()=>V().props.tags),m=$(()=>u.modelValue.tags.length+u.modelValue.accounts.length),k=()=>{h("update:modelValue",Object.assign(u.modelValue,{keyword:"",tags:[],accounts:[]}))};return(_,p)=>(n(),c("div",ge,[e(ee,{modelValue:s.modelValue.keyword,"onUpdate:modelValue":p[0]||(p[0]=r=>s.modelValue.keyword=r),class:"mr-2"},null,8,["modelValue"]),e(P,{"width-classes":"w-72",placement:"bottom-end","closeable-on-content":!1},{trigger:t(()=>[e(K,{size:"md"},{default:t(()=>[e(ke),d("span",$e,[i(l(_.$t("general.filters"))+" ",1),a(m)?(n(),c("span",xe,l(a(m)),1)):y("",!0)])]),_:1})]),header:t(()=>[e(H,{onClick:k},{default:t(()=>[i(l(_.$t("general.clear_filter")),1)]),_:1})]),content:t(()=>[e(X,null,{default:t(()=>[a(f).length?(n(),c("div",be,[d("div",Ve,l(_.$t("post.labels")),1),d("div",ye,[(n(!0),c(D,null,S(a(f),r=>(n(),c("label",{key:r.id,class:"flex items-center cursor-pointer"},[e(j,{checked:s.modelValue.tags,"onUpdate:checked":p[1]||(p[1]=w=>s.modelValue.tags=w),value:r.id,number:"",class:"mr-1"},null,8,["checked","value"]),e(Y,{item:r,removable:!1,editable:!1},null,8,["item"])]))),128))])])):y("",!0),d("div",Ce,[d("div",Ie,l(_.$t("post.accounts")),1),d("div",Be,[(n(!0),c(D,null,S(a(o),r=>(n(),c("label",{key:r.id,class:"flex items-center cursor-pointer"},[e(j,{checked:s.modelValue.accounts,"onUpdate:checked":p[2]||(p[2]=w=>s.modelValue.accounts=w),value:r.id,number:"",class:"mr-1"},null,8,["checked","value"]),e(G,null,{default:t(()=>[e(Z,{provider:r.provider,class:"!w-4 !h-4 mr-xs"},null,8,["provider"]),i(" "+l(r.name),1)]),_:2},1024)]))),128))])])]),_:1})]),_:1})]))}};export{Fe as _,Me as a};
